import random
from spells import *
from feats import *

class_options = {}


class DNDClass:
    def __init__(self, class_name, primary_abilities, hit_die, saving_throw_prof, num_of_skills, skill_list, weapon_prof, tool_prof, armor_training, starting_equipment, class_features):
        self.primary_abilities = primary_abilities
        self.class_name = class_name
        self.hit_die = hit_die
        self.saving_throw_prof = saving_throw_prof
        self.num_of_skills = num_of_skills
        self.skill_list = skill_list
        self.weapon_prof = weapon_prof
        self.tool_prof = tool_prof
        self.armor_training = armor_training
        self.starting_equipment = starting_equipment
        self.class_features = class_features
        self.gain_languages = None
        self.gain_feat = None
        self.gain_expertise = None
        self.spell_list = {}
        self.add_to_chooseable_options()
        self.choose_equipment()
        self.check_for_stat_changes()

    def __str__(self):
        return f"{self.class_name}"

    def add_to_chooseable_options(self):
        if len(self.primary_abilities) == 2:
            if self.primary_abilities[0] in class_options:
                class_options[self.primary_abilities[0]].append(self)
            else:
                class_options.update({self.primary_abilities[0]:[self]})
            if self.primary_abilities[1] in class_options:
                class_options[self.primary_abilities[1]].append(self)
            else:
                class_options.update({self.primary_abilities[1]:[self]})
        elif self.primary_abilities in class_options:
            class_options[self.primary_abilities].append(self)
        else:
            class_options.update({self.primary_abilities:[self]})

    def choose_equipment(self):
        if isinstance(self.starting_equipment, tuple):
            my_choice = random.sample(self.starting_equipment[1:],1)[0]
            updated_starting_equipment = self.starting_equipment[0]
            for key, value in my_choice.items():
                if key in  self.starting_equipment[0]:
                    self.starting_equipment[0][key] += value
                    self.updated_starting_equipment = self.starting_equipment[0]
                else:
                    self.starting_equipment[0][key] = value
                    self.updated_starting_equipment = self.starting_equipment[0]
            self.starting_equipment = updated_starting_equipment
        
    def check_for_stat_changes(self):
        features_that_gain_languages = [druidic, thieves_cant]
        features_that_gain_spells = [primal_order_magician, spellcasting_druid, spellcasting_sorcerer, pact_magic, spellcasting_wizard, spellcasting_bard, divine_order_thaumaturge, spellcasting_cleric, spellcasting_paladin, spellcasting_ranger]
        features_that_gain_armor_training = [primal_order_warden, divine_order_protector]
        features_that_gain_weapon_prof = [primal_order_warden, divine_order_protector]
        features_that_gain_feats = [fighting_style_fighter]
        features_that_gain_expertise = [deft_explorer, expertise]

        for feature in self.class_features:
            if feature in features_that_gain_languages:
                if self.gain_languages == None:
                    self.gain_languages = feature[1]
                else:
                    self.gain_languages.append(feature[1])

            if feature[0] in features_that_gain_armor_training:
                tuple_it = (feature[0][1][1],)
                self.armor_training += tuple_it

            if feature[0] in features_that_gain_weapon_prof:
                tuple_it = (feature[0][1][0],)
                self.weapon_prof += tuple_it

            if feature in features_that_gain_feats:
                if self.gain_feat == None:
                    self.gain_feat = feature[1]

            if feature in features_that_gain_expertise:
                if self.gain_expertise == None:
                    self.gain_expertise = feature[1]
                
                
            if feature in features_that_gain_spells:
                for key, value in feature[1].items():
                    if key in  self.spell_list:
                        self.spell_list[key].append(value)
                    else:
                        self.spell_list[key] = value


barbarian_additional_equipment = {"Explorer's Pack":1, "Handaxes":4, "GP":15}
barb_equip1 = {"Greataxe":1} 
barb_equip2 = {"Battleaxe":1, "Shield":1, "GP":15}
barbarian_equipment = (barbarian_additional_equipment, barb_equip1, barb_equip2)

bard_equipment = {"Dagger":2, "Entertainer's Pack":1, "Leather Armor":1, "Musical instrument (your choice)":1, "GP":26}

cleric_equipment = {"Chain Shirt":1, "Holy Symbol":1, "Mace":1, "Priest's Pack":1, "Shield":1, "GP":7}

druid_equipment = {"Druidic Focus (Quarterstaff)":1, "Explorer's Pack":1, "Herbalism Kit":1, "Leather Armor":1, "Shield":1, "Sickle":1, "GP":9}

fighter_additional_equipment = {"Chain Mail":1, "Crossbow Bolts":20, "Dungeoneer’s Pack":1, "Light Crossbow":1,"Quiver":1, "GP":1}
fight_equip1 = {"Greatsword":1}
fight_equip2 = {"Longsword":1, "Shield":1, "GP":25}
fighter_equipment = (fighter_additional_equipment, fight_equip1, fight_equip2)

monk_equipment = {"Artisan's Tools":1, "Dagger":5, "Explorer's Pack":1, "Musical Instrument":1, "Spear":1, "GP":9}

paladin_equipment = {"Chain Mail":1, "Holy Symbol":1, "Javelin":6, "Longsword":1, "Priest's Pack":1, "Shield":1, "GP":9}

ranger_additional_equipment = {"Arrows":20, "Druidic Focus (Sprig of Mistletoe)":1, "Explorer’s Pack":1, "Quiver":1, "Scimitar":1, "Shortsword":1, "Studded Leather Armor":1, "GP":7}
ranger_equip1 = {"Longbow":1}
ranger_equip2 = {"Shortbow":1}
ranger_equipment = (ranger_additional_equipment, ranger_equip1, ranger_equip2)

rogue_equipment = {"Arrows":20, "Burglar’s Pack":1, "Dagger":2, "Leather Armor":1, "Quiver":1, "Shortbow":1, "Shortsword":1, "Thieves’ Tools":1, "GP":18}

sorcerer_equipment = {"Arcane Focus (Crystal)":1, "Dagger":2, "Dungeoneer's Pack":1, "Spear":1, "GP":28}

warlock_equipment = {"Arcane Focus (Orb)":1, "Book (Occult Lore)":1, "Dagger":2, "Leather Armor":1, "Scholar's Pack":1, "Sickle":1, "GP":15}

wizard_equipment = {"Arcane Focus (Qurterstaff)":1, "Dagger":2, "Robe":1, "Scholar's Pack":1, "GP":5}






rage = "Rage: You can imbue yourself with a primal power that is called your Rage, a force that grants you extraordinary might and resilience. You can enter it as a Bonus Action, provided you aren’t wearing Heavy Armor. While active, your Rage has the following effects: Damage Resistance. You have Resistance to Bludgeoning, Piercing, and Slashing damage. Rage Damage. When you make an attack with a weapon using Strength or an Unarmed Strike and deal damage to the target, you gain a bonus to the damage that increases as you gain levels as a Barbarian, as shown in the Rage Damage column of the Barbarian table. Strength Advantage. You have Advantage on Strength checks and Strength saving throws. No Concentration or Spells. You can’t maintain Concentration, and you can’t cast spells. The Rage lasts until the end of your next turn, and it ends early if you don Heavy Armor or have the Incapacitated condition. If your Rage is still active on your next turn, you can extend the Rage for another round by doing one or more of the following: • Make an attack roll against an enemy. • Force an enemy to make a saving throw. • Take a Bonus Action to extend your Rage. Each time the Rage is extended, it lasts until the end of your next turn. You can maintain a Rage for up to 10 minutes. You can enter your Rage the number of times shown for your Barbarian level in the Rages column of the Barbarian table. You regain one expended use when you finish a Short Rest, and you regain all expended uses when you finish a Long Rest. "
unarmored_defence_barbarian = "Unarmored Defence: While you aren’t wearing any armor, your base Armor Class equals 10 + your Dexterity and Constitution modifiers. You can use a Shield and still gain this benefit"
weapon_mastery_barbarian = "Weapon Mastery: Your training with weapons allows you to use the Mastery property of two kinds of Simple or Martial Melee weapons of your choice, such as Greataxes and Handaxes. Whenever you finish a Long Rest, you can practice weapon drills and change one of those weapon choices. When you reach certain levels in this class, you gain the ability to use the Mastery properties of more kinds of weapons, as shown in the Weapon Mastery column of the Barbarian table."
druidic = ("Druidic: You know Druidic, the secret language of Druids. While learning this ancient tongue, you also unlocked the magic of speaking to animals; you always have the Speak with Animals spell prepared. You can use Druidic to leave hidden messages. You and others who know Druidic automatically spot such a message. Others spot the message’s presence with a successful DC 15 Intelligence (Investigation) check but can’t decipher it without magic.", ("Druidic"))
primal_order_magician = ("Primal Order Magician: You have dedicated yourself the sacred role the 'Magician'. You know one extra cantrip from the Druid spell list (see your Spellcasting feature for information on preparing spells). In addition, your mystical connection to nature gives you a bonus to your Intelligence (Nature) checks. The bonus equals your Wisdom modifier (minimum of +1).", random.sample(primal_cantrips_list, 1))
primal_order_warden = ("Primal Order Warden: You have dedicated yourself the sacred role the 'Warden'. Trained for battle, you gain Martial Weapon proficiency and armor training with Medium Armor.", ("Martial", "Medium"))
primal_order = random.sample([primal_order_magician, primal_order_warden],1)
spellcasting_druid = ("Spellcasting: You have learned to cast spells through studying the mystical forces of nature. See the Player’s Handbook for the rules on spellcasting. The information below details how you use those rules as a Druid. Cantrips. You know two cantrips of your choice from the Druid spell list. Rather than choosing, you may start with the Druidcraft and Produce Flame cantrips. Whenever you gain a Druid level, you can replace one of your cantrips with another cantrip of your choice from the Druid spell list. When you reach levels 4 and 10 in this class, you learn another cantrip of your choice from the Druid spell list, as shown in the Cantrips column of the Druid table. Spell Slots. The Druid table shows how many spell slots you have to cast your spells of level 1 and higher. To cast one of these spells, you must expend a slot of the spell’s level or higher. You regain all expended spell slots when you finish a Long Rest. Prepared Spells of Level 1+. You prepare the list of spells of level 1 and higher that are available for you to cast with this feature. To start, choose four level 1 spells from the Druid spell list. Rather than choosing, you may start with the Animal Friendship, Cure Wounds, Faerie Fire, and Thunderwave spells. The number of spells on your list also increases as you gain Druid levels, as shown in the Prepared Spells column of the Druid table. Whenever that number increases, choose additional spells from the Druid spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level for which you have spell slots. For example, if you’re a level 3 Druid, your list of prepared spells can include six spells of levels 1 and 2 in any combination. If another Druid feature gives spells that you always have prepared, those spells don’t count against the number of spells on the list you prepare with this Spellcasting feature, but those spells otherwise follow the rules in this feature. Changing Your Prepared Spells. Whenever you finish a Long Rest, you can change your list of prepared spells, replacing one or more of the spells there with other Druid spells for which you have spell slots. Preparing a new list requires time spent in meditation: at least 1 minute per spell level for each spell you add to the list. Spellcasting Ability. Wisdom is your Spellcasting Ability for your Druid spells. Spellcasting Focus. You can use a Druidic Focus as a Spellcasting Focus for the spells you prepare for this class.", {"Cantrip":["Druidcraft", "Produce Flame"], "1st": ["Animal Friendship", "Cure Wounds", "Farie Fire", "Thunderwave"]})
martial_arts = "Martial Arts: Your practice of martial arts gives you mastery of combat styles that use your Unarmed Strike and Monk Weapons, which are Simple Melee Weapons and Martial Weapons with the Light property. You gain the following benefits while you are unarmed or wielding only Monk Weapons and you aren’t wearing armor or wielding a Shield: Bonus Unarmed Strike. You can make one Unarmed Strike as a Bonus Action. Dexterous Attacks. You can use Dexterity instead of Strength for the attack and damage rolls of your Unarmed Strikes and Monk Weapons. In addition, when you choose the Grapple or Shove option, you can use your Dexterity modifier instead of Strength to determine the saving throw DC. Martial Arts Die. You can roll a d6 in place of the normal damage of your Unarmed Strike or Monk Weapons. This die changes as you gain Monk levels, as shown in the Martial Arts column of the Monk table."
unarmored_defence_monk = "Unarmored Defence: While you aren’t wearing any armor or wielding a Shield, your base Armor Class equals 10 plus your Dexterity and Wisdom modifiers."
fighting_style_fighter = ("You have honed your martial prowess and gain a Fighting Style feat of your choice (those feats have this feature as a prerequisite). Whenever you gain a Fighter level, you can replace the feat you chose with a different Fighting Style feat.", fs_feat)
second_wind = "You have a limited well of physical and mental stamina that you can draw on. As a Bonus Action, you can use it to regain Hit Points equal to 1d10 + your Fighter level. You can use this feature twice. You regain one expended use when you finish a Short Rest, and you regain all expended uses when you finish a Long Rest."
weapon_mastery_fighter = "Your training with weapons allows you to use the Mastery property of three kinds of Simple or Martial weapons of your choice. Whenever you finish a Long Rest, you can practice weapon drills and change one of those weapon choices. When you reach certain Fighter levels, you gain the ability to use the Mastery properties of more kinds of weapons, as shown in the Weapon Mastery column of the Fighter table."
innate_sorcery = "An event in your past left an indelible mark on you, infusing you with a simmering magic. As a Bonus Action, you can unleash that magic for 1 minute, during which you gain the following benefits: • The spell save DC of your Sorcerer spells increases by 1. • You have Advantage on the attack rolls of Sorcerer spells you cast. You can use this feature twice, and you regain all expended uses of it when you finish a Long Rest."
spellcasting_sorcerer = ("Drawing from your innate magic, you can cast spells. See the Player’s Handbook for rules on spellcasting. The information below details how you use those rules as a Sorcerer. Cantrips. You know four cantrips of your choice from the Sorcerer spell list (see the “Sorcerer Spell List” sidebar). Rather than choosing, you may start with Light, Prestidigitation, Shocking Grasp, and Sorcerous Burst. Whenever you gain a Sorcerer level, you can replace one of your cantrips from this feature with another Sorcerer cantrip of your choice. When you reach levels 4 and 10 in this class, you learn another Sorcerer cantrip of your choice, as shown in the Cantrips column of the Sorcerer table. SORCERER SPELL LIST As you playtest this version of the Sorcerer, please use the Sorcerer spell list in the 2014 Player’s Handbook, with the following spells added: • Sorcerous Burst (cantrip) • Arcane Eruption (level 4 spell) If you have Xanathar’s Guide to Everything or Tasha’s Cauldron of Everything, you may use the Sorcerer spells there too. Spell Slots. The Sorcerer table shows how many spell slots you have to cast your spells of level 1 and higher. To cast one of these spells, you must expend a slot of the spell’s level or higher. You regain all expended spell slots when you finish a Long Rest. Prepared Spells of Level 1+. You prepare the list of spells of level 1 and higher that are available for you to cast with this feature. To start, choose two level 1 spells from the Sorcerer spell list. Rather than choosing, you may start with Burning Hands and Detect Magic. The number of spells on your list also increases as you gain Sorcerer levels, as shown in the Prepared Spells column of the Sorcerer table. Whenever that number increases, choose additional spells from the Sorcerer spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level for which you have spell slots. For example, if you’re a level 3 Sorcerer, your list of prepared spells can include six Sorcerer spells of level 1 or 2 in any combination. If another Sorcerer feature gives spells that you always have prepared, those spells don’t count against the number of spells on the list you prepare with this Spellcasting feature, but those spells otherwise follow the rules in this feature. Changing Your Prepared Spells. Whenever you gain a Sorcerer level, you can replace one spell on your list with another Sorcerer spell for which you have spell slots. Spellcasting Ability. Charisma is your spellcasting ability for the spells you cast with your Sorcerer features. Spellcasting Focus. You can use an Arcane Focus as a Spellcasting Focus for t e spells you cast with your Sorcerer features.", {"Cantrip":["Light", "Prestidigitation", "Shocking Grasp", "Sorcerous Burst"], "1st":["Burning Hands", "Detect Magic"]})
# still need to come back and add this
eldritch_invocations = "In your study of occult lore, you have unearthed Eldritch Invocations, fragments of forbidden knowledge that imbue you with an abiding magical ability or other lessons. You gain one invocation of your choice, such as Pact of the Blade or Pact of the Tome. Invocations are described in the “Eldritch Invocation Options” section later in this class’s description. If an invocation has a prerequisite, you must meet it to learn that invocation, and you can learn the invocation at the same time that you meet its prerequisite. For example, if an invocation requires you to be a Warlock of level 5 or higher, you can select the invocation once you reach level 5 in this class. When you gain certain Warlock levels, you gain more invocations of your choice, as shown in the Invocations column of the Warlock table. You can’t pick the same invocation more than once unless an invocation’s description says otherwise."
pact_magic = ("Through occult ceremony, you have formed a pact with a mysterious entity to gain magical powers. The entity is a voice in the shadows—its identity unclear—but its boon to you is concrete: the ability to cast spells. See the Player’s Handbook for rules on spellcasting. The information below details how you use those rules as a Warlock. Cantrips. You know two cantrips of your choice from the Warlock spell list (see the “Warlock Spell List” sidebar). Rather than choosing, you may start with Eldritch Blast and Prestidigitation. Whenever you gain a Warlock level, you can replace one of your cantrips from this feature with another Warlock cantrip of your choice. When you reach levels 4 and 10 in this class, you learn another Warlock cantrip of your choice, as shown in the Cantrips column of the Warlock table. WARLOCK SPELL LIST As you playtest this version of the Warlock, please use the Warlock spell list in the 2014 Player’s Handbook, with the following spells added: • Bane (level 1 spell) • Detect Magic (level 1 spell) • Speak with Animals (level 1 spell) If you have Xanathar’s Guide to Everything or Tasha’s Cauldron of Everything, you may use the Warlock spells there too. Spell Slots. The Warlock table shows how many spell slots you have to cast your Warlock spells of levels 1–5. The table also shows the level of those slots, all of which are the same level. To cast one of those spells, you must expend a spell slot. You regain all expended Pact Magic spell slots when you finish a Short Rest or Long Rest. For example, when you’re a level 5 Warlock, you have two level 3 spell slots. To cast the level 1 spell Witch Bolt, you must spend one of those slots, and you cast it as a level 3 spell. Prepared Spells of Level 1+. You prepare the list of spells of level 1 and higher that are available for you to cast with this feature. To start, choose two level 1 spells from the Warlock spell list. Rather than choosing, you may start with Charm Person and Hex. The number of spells on your list increases as you gain Warlock levels, as shown in the Prepared Spells column of the Warlock table. Whenever that number increases, choose additional spells from the Warlock spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level no higher than what’s shown in the table’s Slot Level column for your level. When you reach level 6, for example, you learn a new Warlock spell, which can be of level 1–3. If another Warlock feature gives spells that you always have prepared, those spells don’t count against the number of spells on the list you prepare with this feature, but those spells otherwise follow the rules in this feature. Changing Your Prepared Spells. Whenever you gain a Warlock level, you can replace one spell on your list with another Warlock spell of an eligible level. Spellcasting Ability. Charisma is the spellcasting ability for the spells you cast with your Warlock features. Spellcasting Focus. You can use an Arcane Focus as a Spellcasting Focus for the spells you cast with your Warlock features.", {"Cantrip":["Eldritch Blast", "Prestidigitation"], "1st":["Charm Person", "Hex"]})
arcane_recovery = "You have learned to regain some of your magical energy by studying your spellbook. When you finish a Short Rest, you can choose expended spell slots to recover. The spell slots can have a combined level that is equal to or less than half your Wizard level (rounded up), and none of the slots can be level 6 or higher. For example, if you’re a level 4 Wizard, you can recover up to two levels worth of spell slots, regaining either a level 2 spell slot or two level 1 spell slots. Once you use this feature, you can’t do so again until you finish a Long Rest."
spellcasting_wizard = ("As a student of arcane magic, you have learned to cast spells. See the Player’s Handbook for rules on spellcasting. The information below details how you use those rules as a Wizard. Cantrips. You know three cantrips of your choice from the Wizard spell list (see the “Wizard Spell List” sidebar). Rather than choosing, you may start with Light, Mage Hand, and Ray of Frost. Whenever you finish a Long Rest, you can replace one of your cantrips from this feature with another Wizard cantrip of your choice. When you reach levels 4 and 10 in this class, you learn another Wizard cantrip of your choice, as shown in the Cantrips column of the Wizard table. WIZARD SPELL LIST As you playtest this version of the Wizard, please use the Wizard spell list in the 2014 Player’s Handbook. If you have Xanathar’s Guide to Everything or Tasha’s Cauldron of Everything, you may use the Wizard spells there too. Spellbook. Your wizardly apprenticeship culminated in the creation of a unique book in your possession: your spellbook. It is a Tiny object that weighs 3 pounds, and it contains 100 pages, which can be read only by you or someone casting Identify. You determine the book’s appearance and materials, such as a giltedged tome or a collection of vellum bound together by twine. The book contains the spells you know of level 1 and higher. It starts with six level 1 spells of your choice from the Wizard spell list. Instead of choosing spells, you can have your book contain the following spells: Detect Magic, Feather Fall, Mage Armor, Magic Missile, Sleep, and Thunderwave. Whenever you gain a Wizard level after 1, add two Wizard spells of your choice to your spellbook. Each of these spells must be of a level for which you have spell slots, as shown on the Wizard table. The spells are the culmination of arcane research you do regularly. Spell Slots. The Wizard table shows how many spell slots you have to cast your spells of level 1 and higher. To cast one of these spells, you must expend a slot of the spell’s level or higher. You regain all expended spell slots when you finish a Long Rest. Prepared Spells of Level 1+. You prepare the list of spells of level 1 and higher that are available for you to cast with this feature. To do so, choose four spells from your spellbook. The chosen spells must be of a level for which you have spell slots. The number of spells on your list increases as you gain Wizard levels, as shown in the Prepared Spells column of the Wizard table. Whenever that number increases, choose additional spells from the Wizard spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level for which you have spell slots. For example, if you’re a level 3 Wizard, your list of prepared spells can include six spells of levels 1 and 2 in any combination, chosen from your spellbook. If another Wizard feature gives spells that you always have prepared, those spells don’t count against the number of spells you can prepare with this Spellcasting feature, but those spells otherwise follow the rules in this feature. Changing Your Prepared Spells. Whenever you finish a Long Rest, you can change your list of prepared spells, replacing one or more of the spells there. Preparing a new list requires time spent studying your spellbook and memorizing the incantations and gestures you must make to cast a spell: at least 1 minute per spell level for each spell you add to the list. Ritual Caster. You can cast any spell as a Ritual if that spell has the Ritual tag and the spell is in your spellbook. You needn’t have the spell prepared, but you must read from the book to cast a spell in this way. Spellcasting Ability. Intelligence is your spellcasting ability for the spells you cast with your Wizard features. Spellcasting Focus. You can use an Arcane Focus or your spellbook as a Spellcasting Focus for the spells you cast with your Wizard features. EXPANDING AND REPLACING YOUR SPELLBOOK The spells that you add to your spellbook as you gain levels reflect the magical research you conduct on your own, but you might find other spells during your adventures that you can add to your book. You could discover a spell on a Spell Scroll or in an ancient tome, for example, and then copy the spell into your spellbook, using the process below. Copying a Spell into the Book. When you find a Wizard spell of level 1 or higher, you can copy it into your spellbook if it is of a spell level you can prepare and if you can spare the time to copy it. For each level of the spell, the transcription process takes 2 hours and costs 50 GP. The cost represents the fine inks you use as well as Material components you expend as you experiment with the spell to master it. Once you have spent this time and money, you can prepare the spell just like the other spells in your spellbook. Replacing the Book. You can copy a spell from your own spellbook into another book—for example, if you want to make a backup copy of your spellbook. This is just like copying a new spell into your spellbook but faster and easier, since you already know how to cast the spell. You need spend only 1 hour and 10 GP for each level of the copied spell. If you lose your spellbook, you can use the same procedure to transcribe the Wizard spells that you have prepared into a new spellbook. Filling out the remainder of your spellbook requires you to find new spells to do so, as normal. For this reason, many wizards keep a backup spellbook.", {"Cantrip":["Light", "Mage Hand", "Ray of Frost"], "1st":["Detect Magic", "Feather Fall", "Mage Armor", "Magic Missle", "Sleep", "Thunderwave"]})
bardic_inspiration = "You can supernaturally inspire others through words, music, or dance. This inspiration is represented by your Bardic Inspiration die, which is a d6. Using Bardic Inspiration. As a Bonus Action, you can inspire another creature within 60 feet of yourself who can see or hear you. That creature gains one of your Bardic Inspiration dice. A creature can have only one Bardic Inspiration die at a time. Once within the next hour when the creature fails a d20 Test, the creature can roll that die and add the number rolled to the d20, potentially turning the failure into a success. A Bardic Inspiration die is expended when it’s rolled. Number of Uses. You can confer a Bardic Inspiration die a number of times equal to your Charisma modifier (minimum of once), and you regain all expended uses when you finish a Long Rest. At Higher Levels. Your Bardic Inspiration die changes when you reach certain Bard levels, as shown in the Bardic Die column of the Bard table. The die becomes a d8 at 5th level, a d10 at 10th level, and a d12 at 15th level."
spellcasting_bard = ("You have learned to cast spells through your bardic arts. See the Player’s Handbook for the rules on spellcasting. The information below details how you use those rules as a Bard. Chosen Spell List. At 1st level, choose a spell list: Arcane, Divine, or Primal. The chosen list is your Bard spell list and represents the magical tradition in which you learned your bardic arts. Whichever list you choose, it includes the Vicious Mockery cantrip for you. Cantrips. You know two cantrips of your choice from your Bard spell list. Whenever you gain a Bard level, you can replace one of your cantrips with another cantrip of your choice from your Bard spell list. When you reach 4th and 10th level in this class, you learn another cantrip of your choice from your Bard spell list, as shown in the Cantrips column of the Bard table. Spell Slots. The Bard table shows how many spell slots you have to cast your spells of 1st level and higher. To cast one of these spells, you must expend a slot of the spell’s level or higher. You regain all expended spell slots when you finish a Long Rest. Prepared Spells of 1st+ Level. You prepare the list of spells of 1st level and higher that are available for you to cast with this feature. To start, choose four 1st-level spells from your Bard spell list. The number of spells on your list also increases as you gain Bard levels, as shown in the Prepared Spells column of the Bard table. Whenever that number increases, choose additional spells from your Bard spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level for which you have spell slots. For example, if you’re a 3rd-level Bard, your list of prepared spells can include six spells of 1st or 2nd level, in any combination. If another Bard feature gives spells that you always have prepared, those spells don’t count against the number of spells on the list you prepare with this Spellcasting feature, but those spells otherwise follow the rules in this feature. Changing Your Prepared Spells. Whenever you gain a Bard level, you can replace one spell on your list with another spell for which you have spell slots and that is on your Bard spell list. Spellcasting Ability. Charisma is your Spellcasting Ability for your Bard spells. Spellcasting Focus. You can use a musical instrument as a Spellcasting Focus for the spells you cast with your Bard features.", {"Cantrip":["vicious Mockery", (random.sample(arcane_cantrips_list,1))], "1st": [(random.sample(arcane_first_level_list, 4))]})
divine_order_protector = ("You have dedicated yourself to the sacred role of the 'Protector'. Trained for battle, you gain Martial Weapon proficiency and Heavy Armor training.", ("Martial", "Heavy"))
divine_order_thaumaturge = ("You have dedicated yourself to the sacred role of the 'Thaumaturge'. You know one extra cantrip from the Divine spell list (see your Spellcasting feature for information on preparing spells). In addition, your mystical connection to the divine gives you a bonus to your Intelligence (Religion) checks. The bonus equals your Wisdom modifier (minimum of +1).", {"Cantrip":[random.sample(divine_cantrips_list, 1)]})
divine_order = random.sample([divine_order_protector, divine_order_thaumaturge],1)
spellcasting_cleric = ("You have learned to cast spells through prayer, meditation, and devotion. See the Player’s Handbook for the rules on spellcasting. The information below details how you use those rules as a Cleric. Cantrips. You know three cantrips of your choice from the Divine spell list. Rather than choosing, you may start with Guidance, Sacred Flame, and Thaumaturgy. Whenever you gain a Cleric level, you can replace one of your cantrips with another cantrip of your choice from the Divine spell list. When you reach 4th and 10th level in this class, you learn another cantrip of your choice from the Divine spell list, as shown in the Cantrips column of the Cleric table. Spell Slots. The Cleric table shows how many spell slots you have to cast your spells of 1st level and higher. To cast one of these spells, you must expend a slot of the spell’s level or higher. You regain all expended spell slots when you finish a Long Rest. Prepared Spells of 1st+ Level. You prepare the list of spells of 1st level and higher that are available for you to cast with this feature. To start, choose four 1st-level spells from the Divine spell list. Rather than choosing, you may start with Bless, Cure Wounds, Guiding Bolt, and Shield of Faith. The number of spells on your list also increases as you gain Cleric levels, as shown in the Prepared Spells column of the Cleric table. Whenever that number increases, choose additional spells from the Divine spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level for which you have spell slots. For example, if you’re a 3rd-level Cleric, your list of prepared spells can include six spells of 1st or 2nd level, in any combination. If another Cleric feature gives spells that you always have prepared, those spells don’t count against the number of spells on the list you prepare with this Spellcasting feature, but those spells otherwise follow the rules in this feature. Changing Your Prepared Spells. Whenever you finish a Long Rest, you can change your list of prepared spells, replacing one or more of the spells there with other Divine spells for which you have spell slots. Preparing a new list requires time spent in prayer and meditation: at least 1 minute per spell level for each spell you add to the list. Spellcasting Ability. Wisdom is your Spellcasting Ability for your Cleric spells. Spellcasting Focus. You can use a Holy Symbol as a Spellcasting Focus for the spells you prepare for this class.", {"Cantrip":["Guidance", "Sacred Flame", "Thaumaturgy"], "1st":["Bless", "Cure Wounds", "Guiding Bolt", "Shield of Faith"]})
lay_on_hands = "Your blessed touch can heal wounds. You have a pool of healing power that replenishes when you take a Long Rest. With that pool, you can restore a total number of Hit Points equal to five times your Paladin level. As a Bonus Action, you can touch a creature (which could be yourself) and draw power from the pool of healing to restore a number of Hit Points to that creature, up to the maximum amount remaining in the pool. In addition, you can expend 5 Hit Points from the pool of healing to remove the Poisoned condition from the creature, rather than using those points to restore Hit Points."
spellcasting_paladin = ("You have learned to cast spells through prayer, meditation, and devotion. See the Player’s Handbook for the rules on spellcasting. The information below details how you use those rules as a Paladin. Spell Slots. The Paladin table shows how many spell slots you have to cast your spells of 1st level and higher. To cast one of these spells, you must expend a slot of the spell’s level or higher. You regain all expended spell slots when you finish a Long Rest. Prepared Spells of 1st+ Level. You prepare the list of spells of 1st level and higher that are available for you to cast with this feature. To start, choose two 1st-level spells from the Divine spell list. Rather than choosing, you may start with Heroism and Searing Smite. The number of spells on your list increases as you gain Paladin levels, as shown in the Prepared Spells column of the Paladin table. Whenever that number increases, choose additional spells from the Divine spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level for which you have spell slots. For example, if you’re a 5th-level Paladin, your list of prepared spells can include six Divine spells of 1st or 2nd level, in any combination. If another Paladin feature gives spells that you always have prepared, those spells don’t count against the number of spells on the list you prepare with this Spellcasting feature, but those spells otherwise follow the rules in this feature. Changing Your Prepared Spells. Whenever you finish a Long Rest, you can replace one spell on your list with another Divine spell for which you have spell slots. Spellcasting Ability. Charisma is your Spellcasting Ability for your Paladin spells. Spellcasting Focus. You can use a Holy Symbol as a Spellcasting Focus for the spells you prepare for this class.", {"1st":["Heroism", "Searing Smite"]})
weapon_mastery_paladin = "Your training with weapons allows you to use the Mastery property of two kinds of weapons of your choice with which you have proficiency, such as Longswords and Javelins. Whenever you finish a Long Rest, you can change the kinds of weapons you chose. For example, you could switch to using the Mastery properties of Halberds and Flails."
deft_explorer = ("You are an unsurpassed explorer. Choose one of your proficiencies in a skill that appears on the Ranger skill list. You gain Expertise in that skill. In addition, choose two types of terrain: arctic, coast, desert, forest, grassland, mountain, swamp, or the Underdark. You have Advantage on Intelligence (Nature) checks about the chosen terrains, and you have Advantage on Wisdom (Survival) checks to track creatures in them. Whenever you finish a Long Rest, you can meditate and replace one of the chosen terrain types with a different one from the list.", (1,"Any Proficent Skill"))
spellcasting_ranger = ("You have learned to channel the magical essence of nature to cast spells. See the Player’s Handbook for the rules on spellcasting. The information below details how you use those rules as a Ranger. Spell Slots. The Ranger table shows how many spell slots you have to cast your spells of 1st level and higher. To cast one of these spells, you must expend a slot of the spell’s level or higher. You regain all expended spell slots when you finish a Long Rest. Prepared Spells of 1st+ Level. You prepare the list of spells of 1st level and higher that are available for you to cast with this feature. To start, choose two 1st-level spells from the Primal spell list. Rather than choosing, you may start with Cure Wounds and Ensnaring Strike. The number of spells on your list increases as you gain Ranger levels, as shown in the Prepared Spells column of the Ranger table. Whenever that number increases, choose additional spells from the Primal spell list until the number of spells on your list matches the number on the table. The chosen spells must be of a level for which you have spell slots. For example, if you’re a 5th-level Ranger, your list of prepared spells can include six Primal spells of 1st or 2nd level, in any combination. If another Ranger feature gives spells that you always have prepared, those spells don’t count against the number of spells on the list you prepare with this Spellcasting feature, but those spells otherwise follow the rules in this feature. Changing Your Prepared Spells. Whenever you finish a Long Rest, you can replace one spell on your list with another Primal spell for which you have spell slots. Spellcasting Ability. Wisdom is your Spellcasting Ability for your Ranger spells. Spellcasting Focus. You can use a Druidic Focus as a Spellcasting Focus for the spells you prepare for this class.", {"1st":["Cure Wounds", "Ensnaring Strike"]})
weapon_mastery_ranger = "Your training with weapons allows you to use the Mastery property of two kinds of weapons of your choice with which you have proficiency, such as Longbows and Longswords. Whenever you finish a Long Rest, you can change the kinds of weapons you chose. For example, you could switch to using the Mastery properties of Scimitars and Shortswords"
expertise = ("You gain Expertise in two of your skill proficiencies of your choice. Sleight of Hand and Stealth are iconic choices for a Rogue if you have proficiency in them.", (2, "Any Proficent Skill"))
sneak_attack = "You know how to turn a subtle attack into a deadly one. Once per turn, you can deal extra damage to one creature you hit with an attack roll if you’re attacking with a Finesse or Ranged weapon and if at least one of the following requirements is met: Advantage. You have Advantage on the attack roll. Ally Adjacent to Target. At least one of your allies is within 5 feet of the target, the ally doesn’t have the Incapacitated condition, and you don’t have Disadvantage on the attack roll. To determine the extra damage, roll a number of d6s equal to half your Rogue level (round up), and add the dice together (the Rogue table shows the number of Sneak Attack dice you get at each Rogue level). The extra damage’s type is the same as the weapon’s Damage Type."
thieves_cant = ("You picked up various languages in the communities where you plied your roguish talents. You know Thieves’ Cant and one other language of your choice, which you choose from the Standard Languages and Rare Languages tables.", ("thieves' Cant", "1 additonal language of your choice"))
weapon_mastery_rogue = "Your training with weapons allows you to use the Mastery property of two kinds of weapons of your choice with which you have proficiency, such as Daggers and Shortbows. Whenever you finish a Long Rest, you can change the kinds of weapons you chose. For example, you could switch to using the Mastery properties of Scimitars and Shortswords."




barbarian_features = [rage, unarmored_defence_barbarian, weapon_mastery_barbarian]
bard_features = [bardic_inspiration, spellcasting_bard]
cleric_features = [divine_order, spellcasting_cleric]
druid_features = [druidic, primal_order, spellcasting_druid]
fighter_features = [fighting_style_fighter, second_wind, weapon_mastery_fighter]
monk_features = [martial_arts, unarmored_defence_monk]
paladin_features = [lay_on_hands, spellcasting_paladin, weapon_mastery_paladin]
ranger_features = [deft_explorer, spellcasting_ranger, weapon_mastery_ranger]
rogue_features = [expertise, sneak_attack, thieves_cant, weapon_mastery_rogue]
sorcerer_features = [innate_sorcery, spellcasting_sorcerer]
warlock_features = [eldritch_invocations, pact_magic]
wizard_features = (arcane_recovery, spellcasting_wizard)





barbarian = DNDClass("Barbarian", "Strength", 12, ("Strength", "Constitution"), 2, ("Animal Handling", "Athletics", "Intimidation", "Nature", "Perception", "Survival"), ("Simple", "Martial"), None, ("Light", "Medium", "Shield"), barbarian_equipment, barbarian_features)
bard = DNDClass("Bard", "Charisma", 8, ("Dexterity", "Charisma"), 3, ("Acrobatics", "Animal Handling", "Arcana", "Athletics", "Deception", "History", "Insight", "Intimidation", "Investigation", "Medicine", "Nature", "Perception", "Performance", "Persuasion", "Religion", "Sleight of Hand", "Stealth", "Survival"), ("Simple",), "3 Instruments of your choice", "Light", bard_equipment, bard_features)
cleric = DNDClass("Cleric", "Wisdom", 8, ("Wisdom", "Charisma"), 2, ("History", "Insight", "Medicine", "Persuasion", "Religion"), ("Simple",), None, ("Light", "Medium", "Sheild"), cleric_equipment, cleric_features)
druid = DNDClass("Druid", "Wisdom", 8, ("Intelligence", "Wisdom"), 2, ("Arcana", "Animal Handling", "Insight", "Medicine", "Nature", "Perception", "Religion", "Survival"), ("Simple",), "Herbalism Kit", ("Light", "Shield"), druid_equipment, druid_features )
fighter = DNDClass("Fighter", ("Strength", "Dexterity"), 10, ("Strength", "Constitution"), 2, ("Acrobatics", "Animal Handling", "Athletics", "History", "Insight", "Intimidation", "Persuasion", "Perception", "Survival"),("Simple","Martial"), None, ("Light", "Medium", "Heavy", "Shield"), fighter_equipment, fighter_features)
monk = DNDClass("Monk", ("Deterity and Wisdom"), 8, ("Strength", "Deterity"), 2, ("Acrobatics", "Athletics", "History", "Insight", "Religion", "Stealth"), ("Simple", "Martial (if light)"), "choose 1 artisan tool OR 1 instrument", (None), monk_equipment, monk_features)
paladin = DNDClass("Paladin", ("Strength and Charisma"), 10, ("Wisdom", "Charisma"), 2, ("Athletics", "Insight", "Intimidation", "Medicine", "Persuasion", "Religion"), ("Simple", "Martial"), None, ("Light", "Medium", "Heavy", "Sheild"), paladin_equipment, paladin_features)
ranger = DNDClass("Ranger", ("Dexterity", "Wisdom"), 10, ("Strength", "Dexterity"), 3, ("Animal Handling", "Athletics", "Insight", "Investigation", "Nature", "Perception", "Stealth", "Survival"), ("Simple", "Martial"), None, ("Light", "Medium", "Sheild"), ranger_equipment, ranger_features)
rogue = DNDClass("Rogue", "Dexterity", 8, ("Dexterity", "Intelligence"), 4, ("Acrobatics", "Athletics", "Deception", "Insight", "Intimidation", "Investigation", "Perception", "Persuasion", "Sleight of Hand", "Stealth"), ("Simple", "Martial (if finesse)"), "thieves' Tools", "Light", rogue_equipment, rogue_features)
sorcerer = DNDClass("Sorcerer", "Charisma", 6, ("Constitution", "Charisma"), 2, ("Arcana", "Deception", "Insight", "Intimidation", "Persuasion", "Religion"), ("Simple",), None, None, sorcerer_equipment, sorcerer_features)
warlock = DNDClass("Warlock", "Charisma", 8, ("Wisdom", "Charisma"), 2, ("Arcana", "Deception", "History", "Intimidation", "Investigation", "Nature", "Religion"), ("Simple",), None, "Light", warlock_equipment, warlock_features)
wizard = DNDClass("Wizard", "Intelligence", 6, ("Intelligence", "Wisdom"), 2, ("Arcana", "History", "Insight", "Investigation", "Medicine", "Religion"), ("Simple",), None, None, wizard_equipment, wizard_features)




